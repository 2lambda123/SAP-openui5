specVersion: '2.0'
metadata:
  name: openui5-sample-app
type: application
framework:
  name: OpenUI5
  version: "1.101.0"
  # libraries:
    # - name: sap.f
    # - name: sap.m
    # - name: sap.ui.core
    # - name: sap.ui.webc.main
    # - name: themelib_sap_fiori_3
      # optional: true
builder:
  bundles:
  - bundleDefinition:
      name: custom-boot.js
      defaultFileTypes:
      - ".js"
      sections:
      - mode: raw
        filters:
        - sap/ui/demo/todo/ui5loader.js
        - ui5loader-autoconfig.js
        resolve: false
        sort: true
      - mode: preload
        filters:
        - "!sap/ui/thirdparty/jquery.js"
        - "!sap/ui/core/LocaleData.js"
        - "!sap/ui/thirdparty/jquery-mobile-custom.js"
        - "!sap/ui/thirdparty/jquery-compat.js"
        - "!sap/ui/core/ResizeHandler.js"
        - "!sap/ui/model/json/JSONTreeBinding.js"
        - "!sap/ui/core/ExtensionPoint.js"
        - "!sap/ui/core/CommandExecution.js"
        # - "!sap/ui/performance/trace/Interaction.js"
        - "!sap/ui/performance/trace/Measurement.js"
        - "!sap/base/util/array/diff.js"
        - "!sap/ui/core/BusyIndicatorUtils.js"
        - "!jquery.sap.stubs.js"
        - sap/ui/core/Core.js
        - sap/ui/core/date/Gregorian.js
        - sap/base/util/defineLazyProperty.js
        - sap/ui/core/ComponentContainer.js
        # - sap/ui/performance/**
        # - sap/ui/performance/trace/**
        # - sap/ui/core/Placeholder.js
        # - sap/ui/demo/todo/view/ph.fragment.html
        resolve: true
        sort: true
        resolveConditional: false
      - mode: raw
        filters:
        - sap/ui/demo/todo/Boot.js
        resolve: false
    bundleOptions:
      optimize: true
      usePredefineCalls: true
  - bundleDefinition:
      name: sap/ui/demo/todo/Component-bundle.js
      defaultFileTypes:
      - ".js"
      - ".json"
      - ".xml"
      - ".properties"
      - ".css"
      sections:
      - mode: provided
        filters:
        - ui5loader-autoconfig.js
        - sap/ui/demo/todo/Boot.js
        - sap/ui/demo/todo/ui5loader.js
        resolve: true
      - mode: preload
        filters:
        - sap/ui/demo/todo/Component.js
        - sap/ui/demo/todo/manifest.json
        - sap/ui/demo/todo/controller/**
        - sap/ui/demo/todo/i18n/**
        - sap/ui/demo/todo/view/**
        - sap/ui/core/Popup.js
        - sap/ui/dom/rect.js
        resolve: true
        resolveConditional: false
        sort: true
    bundleOptions:
      optimize: true
      usePredefineCalls: true
      numberOfParts: 4
  - bundleDefinition:
      name: FESR.js
      defaultFileTypes:
      - ".js"
      sections:
      - mode: provided
        filters:
        - sap/ui/Device.js
        - sap/ui/thirdparty/URI.js
        - sap/ui/performance/trace/Interaction.js
        - sap/base/Log.js
        - sap/base/util/Version.js
        - sap/ui/performance/Measurement.js
        - sap/base/util/uid.js
        - sap/base/util/isPlainObject.js
        - sap/base/util/extend.js
        - sap/base/assert.js
        - sap/base/util/LoaderExtensions.js
        resolve: true
      - mode: preload
        filters:
        # - sap/ui/performance/BeaconRequest.js
        # - sap/ui/performance/trace/Passport.js
        - sap/ui/performance/trace/FESR.js
        # - sap/ui/performance/XHRInterceptor.js
        resolve: true
        resolveConditional: false
        sort: true
    bundleOptions:
      optimize: true
      usePredefineCalls: true
      numberOfParts: 1
